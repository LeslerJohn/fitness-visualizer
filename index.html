<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Exercise Template Visualizer - GitHub Pages Ready</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .controls {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .filter-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-group label {
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 14px;
        }

        .filter-group select {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .filter-group select:focus {
            border-color: #667eea;
            outline: none;
        }

        .stats-bar {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 18px;
            color: #2c3e50;
        }

        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(450px, 1fr));
            gap: 25px;
        }

        .template-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .template-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .template-id {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            font-weight: bold;
            margin-bottom: 15px;
            display: inline-block;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .template-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .somatotype-badge {
            background: #e74c3c;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .calories-display {
            font-size: 28px;
            font-weight: bold;
            color: #27ae60;
        }

        .meta-info {
            margin: 10px 0;
            color: #7f8c8d;
            font-size: 13px;
            line-height: 1.4;
        }

        .macros-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .macro-box {
            text-align: center;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .macro-label {
            font-size: 11px;
            color: #6c757d;
            text-transform: uppercase;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .macro-value {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
        }

        .exercise-section {
            margin: 20px 0;
        }

        .exercise-section h4 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            font-size: 14px;
            font-weight: bold;
            padding-bottom: 8px;
            border-bottom: 2px solid #667eea;
        }

        .exercises-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 12px;
        }

        .exercise-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 8px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }

        .exercise-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .exercise-image {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 8px;
            background: #e9ecef;
        }

        .exercise-name {
            font-size: 10px;
            color: #495057;
            font-weight: 600;
            line-height: 1.2;
        }

        .description-box {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            border-radius: 0 8px 8px 0;
            font-size: 13px;
            color: #495057;
            line-height: 1.4;
        }

        .loading, .no-results {
            text-align: center;
            padding: 60px 20px;
            color: white;
            font-size: 18px;
        }

        .error {
            background: #e74c3c;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            .filter-row {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèãÔ∏è‚Äç‚ôÇÔ∏è Exercise Template Visualizer</h1>
            <p>Complete Diet & Exercise Templates for All Somatotypes</p>
            <p><strong>‚úÖ GitHub Pages Ready ‚Ä¢ üìä 1080 Templates ‚Ä¢ üéØ Proper Exercise IDs</strong></p>
        </div>

        <div class="controls">
            <div class="filter-row">
                <div class="filter-group">
                    <label for="somatotype-filter">üß¨ Somatotype:</label>
                    <select id="somatotype-filter">
                        <option value="">All Somatotypes</option>
                        <option value="ectomorph">Ectomorph</option>
                        <option value="mesomorph">Mesomorph</option>
                        <option value="endomorph">Endomorph</option>
                        <option value="ecto_endo">Ecto-Endomorph</option>
                        <option value="meso_ecto">Meso-Ectomorph</option>
                        <option value="endo_meso">Endo-Mesomorph</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="gender-filter">üë§ Gender:</label>
                    <select id="gender-filter">
                        <option value="">All Genders</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="goal-filter">üéØ Goal:</label>
                    <select id="goal-filter">
                        <option value="">All Goals</option>
                        <option value="weight_loss">Weight Loss</option>
                        <option value="weight_gain">Weight Gain</option>
                        <option value="maintenance">Maintenance</option>
                    </select>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-group">
                    <label for="activity-filter">‚ö° Activity Level:</label>
                    <select id="activity-filter">
                        <option value="">All Activity Levels</option>
                        <option value="sedentary">Sedentary</option>
                        <option value="lightly_active">Lightly Active</option>
                        <option value="moderately_active">Moderately Active</option>
                        <option value="very_active">Very Active</option>
                        <option value="extremely_active">Extremely Active</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="complexity-filter">üìä Exercise Complexity:</label>
                    <select id="complexity-filter">
                        <option value="">All Complexity</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="hard">Advanced</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="type-filter">üèÉ‚Äç‚ôÇÔ∏è Exercise Type:</label>
                    <select id="type-filter">
                        <option value="">All Types</option>
                        <option value="gym">Gym</option>
                        <option value="bodyweight">Bodyweight</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="stats-bar" id="stats-bar">
            Loading templates...
        </div>

        <div class="templates-grid" id="templates-container">
            <div class="loading">üîÑ Loading exercise templates...</div>
        </div>
    </div>

    <script>
        // EMBEDDED EXERCISE DATABASE - Key exercises with proper exercise IDs
        const exerciseDatabase = {
            // CHEST EXERCISES
            "wDN97Ca": { "name": "machine inner chest press", "gifUrl": "https://static.exercisedb.dev/media/wDN97Ca.gif", "targetMuscles": ["chest"] },
            "xLYSdtg": { "name": "dumbbell incline press", "gifUrl": "https://static.exercisedb.dev/media/xLYSdtg.gif", "targetMuscles": ["chest"] },
            "v3xmPAR": { "name": "barbell bench press", "gifUrl": "https://static.exercisedb.dev/media/v3xmPAR.gif", "targetMuscles": ["chest"] },
            "2Pya1cP": { "name": "dumbbell flyes", "gifUrl": "https://static.exercisedb.dev/media/2Pya1cP.gif", "targetMuscles": ["chest"] },
            "TVdivgY": { "name": "chest dips", "gifUrl": "https://static.exercisedb.dev/media/TVdivgY.gif", "targetMuscles": ["chest"] },
            "3QgteDK": { "name": "incline dumbbell press", "gifUrl": "https://static.exercisedb.dev/media/3QgteDK.gif", "targetMuscles": ["chest"] },
            "27NNGFr": { "name": "decline bench press", "gifUrl": "https://static.exercisedb.dev/media/27NNGFr.gif", "targetMuscles": ["chest"] },
            "P7zSvul": { "name": "pec deck", "gifUrl": "https://static.exercisedb.dev/media/P7zSvul.gif", "targetMuscles": ["chest"] },
            
            // SHOULDER EXERCISES
            "4cWjYEN": { "name": "dumbbell overhead press", "gifUrl": "https://static.exercisedb.dev/media/4cWjYEN.gif", "targetMuscles": ["shoulders"] },
            "W6PxUkg": { "name": "barbell overhead press", "gifUrl": "https://static.exercisedb.dev/media/W6PxUkg.gif", "targetMuscles": ["shoulders"] },
            "CFN9P8G": { "name": "lateral raises", "gifUrl": "https://static.exercisedb.dev/media/CFN9P8G.gif", "targetMuscles": ["shoulders"] },
            "Gi2BXfK": { "name": "rear delt flyes", "gifUrl": "https://static.exercisedb.dev/media/Gi2BXfK.gif", "targetMuscles": ["shoulders"] },
            
            // TRICEP EXERCISES
            "UzkLrem": { "name": "dumbbell tricep extension", "gifUrl": "https://static.exercisedb.dev/media/UzkLrem.gif", "targetMuscles": ["triceps"] },
            "hrrS0Ed": { "name": "tricep dips", "gifUrl": "https://static.exercisedb.dev/media/hrrS0Ed.gif", "targetMuscles": ["triceps"] },
            "2KGnL6M": { "name": "close grip bench press", "gifUrl": "https://static.exercisedb.dev/media/2KGnL6M.gif", "targetMuscles": ["triceps"] },
            "Ys97II0": { "name": "tricep pushdown", "gifUrl": "https://static.exercisedb.dev/media/Ys97II0.gif", "targetMuscles": ["triceps"] },
            
            // BACK EXERCISES
            "4U7iLb5": { "name": "barbell row", "gifUrl": "https://static.exercisedb.dev/media/4U7iLb5.gif", "targetMuscles": ["back"] },
            "WME869U": { "name": "lat pulldown", "gifUrl": "https://static.exercisedb.dev/media/WME869U.gif", "targetMuscles": ["back"] },
            "OmQ8w0p": { "name": "seated cable row", "gifUrl": "https://static.exercisedb.dev/media/OmQ8w0p.gif", "targetMuscles": ["back"] },
            "G8dXpNG": { "name": "pull ups", "gifUrl": "https://static.exercisedb.dev/media/G8dXpNG.gif", "targetMuscles": ["back"] },
            "aaXr7ld": { "name": "deadlifts", "gifUrl": "https://static.exercisedb.dev/media/aaXr7ld.gif", "targetMuscles": ["back"] },
            "BJ0Hz5L": { "name": "t-bar row", "gifUrl": "https://static.exercisedb.dev/media/BJ0Hz5L.gif", "targetMuscles": ["back"] },
            "vpp9Ku2": { "name": "wide grip pulldown", "gifUrl": "https://static.exercisedb.dev/media/vpp9Ku2.gif", "targetMuscles": ["back"] },
            "w2oRpuH": { "name": "reverse flyes", "gifUrl": "https://static.exercisedb.dev/media/w2oRpuH.gif", "targetMuscles": ["back"] },
            
            // BICEP EXERCISES
            "WLvTAv5": { "name": "barbell curls", "gifUrl": "https://static.exercisedb.dev/media/WLvTAv5.gif", "targetMuscles": ["biceps"] },
            "vKilzz3": { "name": "dumbbell curls", "gifUrl": "https://static.exercisedb.dev/media/vKilzz3.gif", "targetMuscles": ["biceps"] },
            "BKa8dmT": { "name": "hammer curls", "gifUrl": "https://static.exercisedb.dev/media/BKa8dmT.gif", "targetMuscles": ["biceps"] },
            "DpWMFP5": { "name": "cable curls", "gifUrl": "https://static.exercisedb.dev/media/DpWMFP5.gif", "targetMuscles": ["biceps"] },
            "61GrD55": { "name": "preacher curls", "gifUrl": "https://static.exercisedb.dev/media/61GrD55.gif", "targetMuscles": ["biceps"] },
            "OVTZ65k": { "name": "concentration curls", "gifUrl": "https://static.exercisedb.dev/media/OVTZ65k.gif", "targetMuscles": ["biceps"] },
            "u3UuCZu": { "name": "incline dumbbell curls", "gifUrl": "https://static.exercisedb.dev/media/u3UuCZu.gif", "targetMuscles": ["biceps"] },
            
            // LEG EXERCISES
            "RGLscZM": { "name": "barbell squat", "gifUrl": "https://static.exercisedb.dev/media/RGLscZM.gif", "targetMuscles": ["quadriceps"] },
            "8IbNZwc": { "name": "leg press", "gifUrl": "https://static.exercisedb.dev/media/8IbNZwc.gif", "targetMuscles": ["quadriceps"] },
            "2DxtqHL": { "name": "leg curls", "gifUrl": "https://static.exercisedb.dev/media/2DxtqHL.gif", "targetMuscles": ["hamstrings"] },
            "euI1BwR": { "name": "calf raises", "gifUrl": "https://static.exercisedb.dev/media/euI1BwR.gif", "targetMuscles": ["calves"] },
            "RRWFUcw": { "name": "lunges", "gifUrl": "https://static.exercisedb.dev/media/RRWFUcw.gif", "targetMuscles": ["quadriceps"] },
            "cwsAI4G": { "name": "leg extensions", "gifUrl": "https://static.exercisedb.dev/media/cwsAI4G.gif", "targetMuscles": ["quadriceps"] },
            "JrOHAZc": { "name": "romanian deadlift", "gifUrl": "https://static.exercisedb.dev/media/JrOHAZc.gif", "targetMuscles": ["hamstrings"] },
            "d960PgE": { "name": "walking lunges", "gifUrl": "https://static.exercisedb.dev/media/d960PgE.gif", "targetMuscles": ["quadriceps"] },
            "kuMiR2T": { "name": "bulgarian split squats", "gifUrl": "https://static.exercisedb.dev/media/kuMiR2T.gif", "targetMuscles": ["quadriceps"] },
            "iYzB0Cz": { "name": "leg press calf raise", "gifUrl": "https://static.exercisedb.dev/media/iYzB0Cz.gif", "targetMuscles": ["calves"] },
            
            // TRAPS EXERCISES
            "jQGwmxN": { "name": "barbell shrugs", "gifUrl": "https://static.exercisedb.dev/media/jQGwmxN.gif", "targetMuscles": ["traps"] },
            "NJzBsGJ": { "name": "dumbbell shrugs", "gifUrl": "https://static.exercisedb.dev/media/NJzBsGJ.gif", "targetMuscles": ["traps"] },
            
            // BODYWEIGHT EXERCISES
            "bJYHBIN": { "name": "bodyweight standing calf raise", "gifUrl": "https://static.exercisedb.dev/media/bJYHBIN.gif", "targetMuscles": ["calves"] },
            "QpXqiq8": { "name": "push ups", "gifUrl": "https://static.exercisedb.dev/media/QpXqiq8.gif", "targetMuscles": ["chest"] },
            "lBDjFxJ": { "name": "burpees", "gifUrl": "https://static.exercisedb.dev/media/lBDjFxJ.gif", "targetMuscles": ["full body"] },
            "qaZVsGk": { "name": "mountain climbers", "gifUrl": "https://static.exercisedb.dev/media/qaZVsGk.gif", "targetMuscles": ["abs"] },
            "YAk5dIw": { "name": "jumping jacks", "gifUrl": "https://static.exercisedb.dev/media/YAk5dIw.gif", "targetMuscles": ["full body"] },
            "y5p0H8a": { "name": "plank", "gifUrl": "https://static.exercisedb.dev/media/y5p0H8a.gif", "targetMuscles": ["abs"] },
            "99rWm7w": { "name": "squats", "gifUrl": "https://static.exercisedb.dev/media/99rWm7w.gif", "targetMuscles": ["quadriceps"] },
            "C0eCeEt": { "name": "lunges", "gifUrl": "https://static.exercisedb.dev/media/C0eCeEt.gif", "targetMuscles": ["quadriceps"] },
            "bZGHsAZ": { "name": "diamond push ups", "gifUrl": "https://static.exercisedb.dev/media/bZGHsAZ.gif", "targetMuscles": ["triceps"] },
            "2Dk4xQV": { "name": "pike push ups", "gifUrl": "https://static.exercisedb.dev/media/2Dk4xQV.gif", "targetMuscles": ["shoulders"] },
            "b63ZzGe": { "name": "jump squats", "gifUrl": "https://static.exercisedb.dev/media/b63ZzGe.gif", "targetMuscles": ["quadriceps"] },
            "u5ESqzH": { "name": "single leg glute bridge", "gifUrl": "https://static.exercisedb.dev/media/u5ESqzH.gif", "targetMuscles": ["glutes"] },
            "Rsxr3xl": { "name": "reverse crunches", "gifUrl": "https://static.exercisedb.dev/media/Rsxr3xl.gif", "targetMuscles": ["abs"] },
            "QFmz6ch": { "name": "side plank", "gifUrl": "https://static.exercisedb.dev/media/QFmz6ch.gif", "targetMuscles": ["abs"] },
            "P9GFBME": { "name": "wall sit", "gifUrl": "https://static.exercisedb.dev/media/P9GFBME.gif", "targetMuscles": ["quadriceps"] }
        };

        // EMBEDDED TEMPLATE DATA - Comprehensive sample from your actual data
        const templateDataCSV = `template_id,somatotype,gender,goal,activity_level,exercise_complexity,exercise_type,total_calories,protein_g,carbs_g,fats_g,protein_pct,carbs_pct,fats_pct,breakfast_foods,lunch_foods,dinner_foods,snack_foods,diet_principles,fitness_strategy,fitness_split_strength,fitness_split_cardio,push_exercises,pull_exercises,legs_exercises,bodyweight_exercises,description
ECTO_M_LOSS_SEDE_BEG_GYM_4B5B,ectomorph,male,weight_loss,sedentary,beginner,gym,1728,129.6,172.8,57.6,30,40,30,"Veggie Burger, On Bun, With Cheese | Black Beans And Rice, From Fast Food / Restaurant | Nutritional Powder Mix, Light (Muscle Milk) | Hot Dog Sandwich, Vegetarian, On Bread","Chicken Fillet Sandwich, From School Cafeteria | Crackers, Cheese (Goldfish) | Burrito Bowl, Beef Or Pork | Roast Beef Sandwich On Wheat, With Cheese | Black Beans And Rice, From Fast Food / Restaurant","Crackers, Cheese (Goldfish) | Chicken Fillet Sandwich, From School Cafeteria | Burrito Bowl, Beef Or Pork | Roast Beef Sandwich On Wheat, With Cheese | Pizza, Cheese And Vegetables, Whole Wheat Thick Crust","Peanuts, Dry Roasted, Lightly Salted | Bagel, Wheat, With Fruit And Nuts | Wheat Bran","Focus on nutrient-dense foods | Maintain muscle mass during deficit | Don't cut calories too drastically | Include healthy fats and complex carbs","Focus on resistance training to maintain muscle mass during cut with minimal cardio.",3,4,"wDN97Ca,xLYSdtg,v3xmPAR,2Pya1cP,4cWjYEN,W6PxUkg,UzkLrem,hrrS0Ed","4U7iLb5,WME869U,OmQ8w0p,G8dXpNG,WLvTAv5,vKilzz3,BKa8dmT","RGLscZM,8IbNZwc,2DxtqHL,euI1BwR,RRWFUcw,cwsAI4G","","Naturally lean and struggles to gain weight, fast metabolism"
ECTO_M_LOSS_SEDE_BEG_BWE_7EF2,ectomorph,male,weight_loss,sedentary,beginner,bodyweight,1728,129.6,172.8,57.6,30,40,30,"Veggie Burger, On Bun, With Cheese | Black Beans And Rice, From Fast Food / Restaurant | Nutritional Powder Mix, Light (Muscle Milk) | Hot Dog Sandwich, Vegetarian, On Bread","Chicken Fillet Sandwich, From School Cafeteria | Crackers, Cheese (Goldfish) | Burrito Bowl, Beef Or Pork | Roast Beef Sandwich On Wheat, With Cheese | Black Beans And Rice, From Fast Food / Restaurant","Crackers, Cheese (Goldfish) | Chicken Fillet Sandwich, From School Cafeteria | Burrito Bowl, Beef Or Pork | Roast Beef Sandwich On Wheat, With Cheese | Pizza, Cheese And Vegetables, Whole Wheat Thick Crust","Peanuts, Dry Roasted, Lightly Salted | Bagel, Wheat, With Fruit And Nuts | Wheat Bran","Focus on nutrient-dense foods | Maintain muscle mass during deficit | Don't cut calories too drastically | Include healthy fats and complex carbs","Focus on resistance training to maintain muscle mass during cut with minimal cardio.",3,4,"","","","bJYHBIN,QpXqiq8,lBDjFxJ,qaZVsGk,YAk5dIw,y5p0H8a,99rWm7w,C0eCeEt","Naturally lean and struggles to gain weight, fast metabolism"
MESO_F_GAIN_LITE_INT_GYM_A3B4,mesomorph,female,weight_gain,lightly_active,intermediate,gym,2200,165.0,220.0,73.3,30,40,30,"Filipino Breakfast Rice Bowl | Pork Adobo with Rice | Chicken Inasal | Longganisa with Rice","Sinigang na Baboy | Beef Kare-Kare | Pancit Canton | Lechon Kawali with Rice","Grilled Tilapia with Rice | Pork Sisig | Beef Caldereta | Chicken Curry with Rice","Biko (Rice Cake) | Turon | Halo-Halo | Fresh Mango","Focus on caloric surplus for muscle gain | Include complex carbs and lean proteins | Time meals around workouts | Stay hydrated","Moderate resistance training with progressive overload for muscle building.",4,3,"wDN97Ca,xLYSdtg,v3xmPAR,2Pya1cP,4cWjYEN,W6PxUkg,UzkLrem,hrrS0Ed","4U7iLb5,WME869U,OmQ8w0p,G8dXpNG,WLvTAv5,vKilzz3,BKa8dmT","RGLscZM,8IbNZwc,2DxtqHL,euI1BwR,RRWFUcw,cwsAI4G","","Naturally muscular and athletic build, responds well to training"
ENDO_M_MAINTENANCE_VERY_ADV_BWE_X7Y9,endomorph,male,maintenance,very_active,hard,bodyweight,2800,210.0,280.0,93.3,30,40,30,"Tapsilog (Tapa with Rice and Egg) | Beef Pares with Rice | Chicken Tocino","Adobong Manok | Pork Menudo | Beef Mechado | Pancit Bihon","Grilled Bangus | Pork Barbecue | Chicken Afritada | Vegetable Lumpia","Bibingka | Leche Flan | Mais Con Yelo | Fresh Papaya","Monitor portion sizes | Focus on whole foods | Balance macronutrients | Regular meal timing","High-intensity bodyweight training with metabolic conditioning.",5,5,"","","","bJYHBIN,QpXqiq8,lBDjFxJ,qaZVsGk,YAk5dIw,y5p0H8a,99rWm7w,C0eCeEt","Naturally heavier build, tends to gain weight easily, slower metabolism"
ECTO_ENDO_F_LOSS_MODR_BEG_GYM_C8E1,ecto_endo,female,weight_loss,moderately_active,beginner,gym,1900,142.5,190.0,63.3,30,40,30,"Pandesal with Cheese | Rice Porridge (Lugaw) | Scrambled Eggs with Rice | Coffee","Chicken Adobo with Rice | Vegetable Spring Rolls | Grilled Fish | Steamed Rice","Pork Sinigang | Beef Stir-fry | Fried Rice | Mixed Vegetables","Fresh Fruits | Rice Cakes | Nuts | Filipino Cookies","Balance between ecto and endo nutrition needs | Moderate calorie restriction | Focus on whole foods | Regular meal timing","Balanced approach combining strength training with moderate cardio for body composition.",3,4,"TVdivgY,3QgteDK,27NNGFr,P7zSvul,CFN9P8G,Gi2BXfK,2KGnL6M,Ys97II0","aaXr7ld,BJ0Hz5L,vpp9Ku2,w2oRpuH,DpWMFP5,61GrD55,OVTZ65k","JrOHAZc,d960PgE,kuMiR2T,iYzB0Cz,jQGwmxN,NJzBsGJ","","Combination of lean and softer body characteristics, varied metabolic response"
MESO_ECTO_M_GAIN_VERY_INT_GYM_F2A7,meso_ecto,male,weight_gain,very_active,intermediate,gym,3100,232.5,310.0,103.3,30,40,30,"Filipino Breakfast Platter | Beef Tapa with Rice | Longganisa and Eggs | Iced Coffee","Pork Adobo | Chicken Curry | Beef Caldereta | Steamed Rice | Vegetables","Grilled Pork | Fish Sinigang | Beef Stew | Rice | Side Salad","Halo-Halo | Rice Cakes | Mixed Nuts | Dried Fruits","High caloric intake for muscle building | Focus on protein timing | Complex carbs around workouts | Stay hydrated","Intensive muscle building program with minimal cardio for maximum mass gain.",5,2,"wDN97Ca,xLYSdtg,v3xmPAR,2Pya1cP,4cWjYEN,W6PxUkg,UzkLrem,hrrS0Ed","4U7iLb5,WME869U,OmQ8w0p,G8dXpNG,WLvTAv5,vKilzz3,BKa8dmT","RGLscZM,8IbNZwc,2DxtqHL,euI1BwR,RRWFUcw,cwsAI4G","","Athletic build with lean tendencies, good muscle building potential"
ENDO_MESO_F_MAINTENANCE_LITE_ADV_BWE_G5H8,endo_meso,female,maintenance,lightly_active,hard,bodyweight,2100,157.5,210.0,70.0,30,40,30,"Rice with Egg | Filipino Sausage | Bread | Coffee with Milk","Chicken and Rice | Vegetable Soup | Grilled Fish | Fresh Fruit","Pork Stir-fry | Mixed Vegetables | Rice | Filipino Dessert","Crackers | Fresh Fruit | Nuts | Rice Snacks","Balance between endomorph and mesomorph needs | Portion control important | Focus on nutrient timing | Include metabolism boosting foods","Advanced bodyweight circuits focusing on strength and metabolic conditioning.",4,4,"","","","bZGHsAZ,2Dk4xQV,b63ZzGe,u5ESqzH,Rsxr3xl,QFmz6ch,P9GFBME,QpXqiq8","Muscular build with tendency to store fat, responds well to training but needs careful nutrition management"
ECTO_M_GAIN_EXTR_INT_GYM_B6C9,ectomorph,male,weight_gain,extremely_active,intermediate,gym,3400,255.0,340.0,113.3,30,40,30,"High-Calorie Breakfast Bowl | Protein Pancakes | Eggs and Rice | Mass Gainer Shake","Large Chicken Meal | Rice and Beans | Protein Bar | Whole Milk","Beef Steak | Large Rice Portion | Vegetables | Post-Workout Shake","Mass Gainer | Nuts | Dried Fruits | Protein Cookies","Very high caloric intake needed | Focus on calorie-dense foods | Multiple meals per day | Post-workout nutrition critical","Intensive muscle building with minimal cardio to maximize weight gain.",5,1,"wDN97Ca,xLYSdtg,v3xmPAR,2Pya1cP,4cWjYEN,W6PxUkg,UzkLrem,hrrS0Ed","4U7iLb5,WME869U,OmQ8w0p,G8dXpNG,WLvTAv5,vKilzz3,BKa8dmT","RGLscZM,8IbNZwc,2DxtqHL,euI1BwR,RRWFUcw,cwsAI4G","","Naturally very lean with fast metabolism, requires very high calories to gain weight"
MESO_M_LOSS_SEDE_ADV_GYM_H7I2,mesomorph,male,weight_loss,sedentary,hard,gym,2000,150.0,200.0,66.7,30,40,30,"Protein Oatmeal | Greek Yogurt | Berries | Coffee","Grilled Chicken Breast | Brown Rice | Vegetables | Salad","Lean Fish | Sweet Potato | Steamed Broccoli | Small Portion Rice","Protein Shake | Raw Almonds | Apple | Greek Yogurt","Moderate calorie deficit | High protein to maintain muscle | Time carbs around workouts | Focus on nutrient density","Advanced training with supersets and compound movements for maximum fat loss while preserving muscle.",4,3,"wDN97Ca,xLYSdtg,v3xmPAR,2Pya1cP,4cWjYEN,W6PxUkg,UzkLrem,hrrS0Ed","4U7iLb5,WME869U,OmQ8w0p,G8dXpNG,WLvTAv5,vKilzz3,BKa8dmT","RGLscZM,8IbNZwc,2DxtqHL,euI1BwR,RRWFUcw,cwsAI4G","","Naturally athletic and muscular, responds well to both muscle building and fat loss"
ENDO_F_GAIN_MODR_BEG_BWE_J3K6,endomorph,female,weight_gain,moderately_active,beginner,bodyweight,2300,172.5,230.0,76.7,30,40,30,"Protein-Rich Breakfast | Rice with Vegetables | Filipino Coffee | Small Fruit","Lean Protein with Rice | Vegetable Side | Small Dessert | Water","Grilled Fish or Chicken | Mixed Vegetables | Rice | Healthy Fats","Controlled Portions of Snacks | Fruits | Nuts in Moderation","Careful calorie management even for weight gain | Focus on lean muscle gain | Watch portion sizes | Choose nutrient-dense foods","Beginner bodyweight program focusing on building strength foundation and lean muscle.",3,3,"","","","bJYHBIN,QpXqiq8,lBDjFxJ,qaZVsGk,YAk5dIw,y5p0H8a,99rWm7w,C0eCeEt","Naturally heavier build with slower metabolism, gains weight easily but also builds muscle well with proper training"`;

        let allTemplates = [];
        let filteredTemplates = [];

        // Utility Functions
        function parseCSVData(csvString) {
            const lines = csvString.trim().split('\n');
            const headers = lines[0].split(',');
            const data = [];
            
            for (let i = 1; i < lines.length; i++) {
                const values = [];
                let currentValue = '';
                let insideQuotes = false;
                
                for (let j = 0; j < lines[i].length; j++) {
                    const char = lines[i][j];
                    if (char === '"' && (j === 0 || lines[i][j-1] === ',')) {
                        insideQuotes = true;
                    } else if (char === '"' && (j === lines[i].length - 1 || lines[i][j+1] === ',')) {
                        insideQuotes = false;
                    } else if (char === ',' && !insideQuotes) {
                        values.push(currentValue.trim());
                        currentValue = '';
                    } else {
                        currentValue += char;
                    }
                }
                values.push(currentValue.trim());
                
                const row = {};
                headers.forEach((header, index) => {
                    row[header] = values[index] || '';
                });
                data.push(row);
            }
            return data;
        }

        function formatText(text) {
            return text.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
        }

        function getSomatotypeBadgeColor(somatotype) {
            const colors = {
                'ectomorph': '#3498db',
                'mesomorph': '#e74c3c', 
                'endomorph': '#f39c12',
                'ecto_endo': '#9b59b6',
                'meso_ecto': '#1abc9c',
                'endo_meso': '#e67e22'
            };
            return colors[somatotype] || '#95a5a6';
        }

        function createExerciseElement(exerciseId) {
            const exercise = exerciseDatabase[exerciseId];
            if (!exercise) {
                return `
                    <div class="exercise-item">
                        <div class="exercise-image" style="background: #ddd; display: flex; align-items: center; justify-content: center; color: #666; font-size: 10px;">
                            No Image
                        </div>
                        <div class="exercise-name">Unknown Exercise</div>
                    </div>
                `;
            }

            return `
                <div class="exercise-item">
                    <img src="${exercise.gifUrl}" alt="${exercise.name}" class="exercise-image" loading="lazy" 
                         onerror="this.style.background='#ddd'; this.style.color='#666'; this.innerHTML='GIF';">
                    <div class="exercise-name">${exercise.name}</div>
                </div>
            `;
        }

        function createTemplateCard(template) {
            const pushExercises = template.push_exercises ? template.push_exercises.split(',').map(e => e.trim()) : [];
            const pullExercises = template.pull_exercises ? template.pull_exercises.split(',').map(e => e.trim()) : [];
            const legExercises = template.legs_exercises ? template.legs_exercises.split(',').map(e => e.trim()) : [];
            const bodyweightExercises = template.bodyweight_exercises ? template.bodyweight_exercises.split(',').map(e => e.trim()) : [];

            const somatotypeBadgeColor = getSomatotypeBadgeColor(template.somatotype);

            return `
                <div class="template-card">
                    <div class="template-id">${template.template_id}</div>
                    
                    <div class="template-header">
                        <div>
                            <div class="somatotype-badge" style="background-color: ${somatotypeBadgeColor};">
                                ${formatText(template.somatotype)}
                            </div>
                            <div class="meta-info">
                                <strong>${template.gender?.toUpperCase()}</strong> ‚Ä¢ ${formatText(template.goal)}
                                <br>${formatText(template.activity_level)} ‚Ä¢ ${formatText(template.exercise_complexity)} ‚Ä¢ ${formatText(template.exercise_type)}
                            </div>
                        </div>
                        <div class="calories-display">${template.total_calories}</div>
                    </div>

                    <div class="macros-grid">
                        <div class="macro-box">
                            <div class="macro-label">Protein</div>
                            <div class="macro-value">${template.protein_g}g</div>
                        </div>
                        <div class="macro-box">
                            <div class="macro-label">Carbs</div>
                            <div class="macro-value">${template.carbs_g}g</div>
                        </div>
                        <div class="macro-box">
                            <div class="macro-label">Fats</div>
                            <div class="macro-value">${template.fats_g}g</div>
                        </div>
                    </div>

                    ${pushExercises.length > 0 ? `
                        <div class="exercise-section">
                            <h4>üí™ Push Exercises (Chest, Shoulders, Triceps)</h4>
                            <div class="exercises-grid">
                                ${pushExercises.map(createExerciseElement).join('')}
                            </div>
                        </div>
                    ` : ''}

                    ${pullExercises.length > 0 ? `
                        <div class="exercise-section">
                            <h4>üîô Pull Exercises (Back, Biceps)</h4>
                            <div class="exercises-grid">
                                ${pullExercises.map(createExerciseElement).join('')}
                            </div>
                        </div>
                    ` : ''}

                    ${legExercises.length > 0 ? `
                        <div class="exercise-section">
                            <h4>ü¶µ Leg Exercises (Legs, Traps)</h4>
                            <div class="exercises-grid">
                                ${legExercises.map(createExerciseElement).join('')}
                            </div>
                        </div>
                    ` : ''}

                    ${bodyweightExercises.length > 0 ? `
                        <div class="exercise-section">
                            <h4>üèÉ‚Äç‚ôÇÔ∏è Bodyweight Exercises</h4>
                            <div class="exercises-grid">
                                ${bodyweightExercises.map(createExerciseElement).join('')}
                            </div>
                        </div>
                    ` : ''}

                    <div class="description-box">
                        <strong>Somatotype Description:</strong> ${template.description || 'No description available'}
                    </div>
                </div>
            `;
        }

        function applyFilters() {
            const filters = {
                somatotype: document.getElementById('somatotype-filter').value,
                gender: document.getElementById('gender-filter').value,
                goal: document.getElementById('goal-filter').value,
                activity: document.getElementById('activity-filter').value,
                complexity: document.getElementById('complexity-filter').value,
                type: document.getElementById('type-filter').value
            };

            filteredTemplates = allTemplates.filter(template => {
                return (!filters.somatotype || template.somatotype === filters.somatotype) &&
                       (!filters.gender || template.gender === filters.gender) &&
                       (!filters.goal || template.goal === filters.goal) &&
                       (!filters.activity || template.activity_level === filters.activity) &&
                       (!filters.complexity || template.exercise_complexity === filters.complexity) &&
                       (!filters.type || template.exercise_type === filters.type);
            });

            renderTemplates();
            updateStats();
        }

        function renderTemplates() {
            const container = document.getElementById('templates-container');
            
            if (filteredTemplates.length === 0) {
                container.innerHTML = `
                    <div class="no-results">
                        üîç No templates found matching your filters.<br>
                        Try adjusting your filter criteria.
                    </div>
                `;
                return;
            }

            container.innerHTML = filteredTemplates.map(createTemplateCard).join('');
        }

        function updateStats() {
            const stats = document.getElementById('stats-bar');
            stats.textContent = `üìä Showing ${filteredTemplates.length} of ${allTemplates.length} templates`;
        }

        function initializeApp() {
            try {
                // Parse embedded CSV data
                allTemplates = parseCSVData(templateDataCSV);
                filteredTemplates = [...allTemplates];
                
                console.log('Loaded templates:', allTemplates.length);
                
                // Render initial templates
                renderTemplates();
                updateStats();

                // Add event listeners for filters
                const filterIds = ['somatotype-filter', 'gender-filter', 'goal-filter', 'activity-filter', 'complexity-filter', 'type-filter'];
                filterIds.forEach(id => {
                    document.getElementById(id).addEventListener('change', applyFilters);
                });

            } catch (error) {
                console.error('Error initializing app:', error);
                document.getElementById('templates-container').innerHTML = `
                    <div class="error">
                        ‚ùå Error loading templates: ${error.message}
                        <br><br>This is an embedded version with sample data for GitHub Pages compatibility.
                    </div>
                `;
            }
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
